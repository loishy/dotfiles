#!/usr/bin/env sh

# stop process new window manager in Ventura
launchctl unload -F /System/Library/LaunchAgents/com.apple.WindowManager.plist

yabai -m config window_shadow off
yabai -m config window_border_blur off

yabai -m config \
	layout stack \
	top_padding 0   \
	bottom_padding 0  \
	window_gap 8 \
	left_padding 0 \
	right_padding 0

# signals
yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
sudo yabai --load-sa

yabai -m signal --add event=application_launched action="~/.dotfiles/suckless/mac_os/yabai/noPaddingLeftOneApp.sh"
yabai -m signal --add event=application_terminated action="~/.dotfiles/suckless/mac_os/yabai/noPaddingLeftOneApp.sh"
yabai -m signal --add event=space_changed action="~/.dotfiles/suckless/mac_os/yabai/noPaddingLeftOneApp.sh"
yabai -m signal --add event=window_created action="~/.dotfiles/suckless/mac_os/yabai/noPaddingLeftOneApp.sh"

# Labels
yabai -m space 1 --label IDE
yabai -m space 2 --label Web
yabai -m space 3 --label Chat
yabai -m space 4 --label Management
yabai -m space 5 --label Music

yabai -m rule --add app="kitty" space=1
yabai -m rule --add app="Alacritty" space=1
yabai -m rule --add app="Code" space=1
yabai -m rule --add app="WebStorm" space=1

yabai -m rule --add app="Arc" space=2
yabai -m rule --add app="Google Chrome" space=2

yabai -m rule --add app="Microsoft Teams" space=3
yabai -m rule --add app="Messenger" space=3
yabai -m rule --add app="Slack" space=3

yabai -m rule --add app="Inkdrop" space=4
yabai -m rule --add app="superProductivity" space=4
yabai -m rule --add app="Calendar" space=4
yabai -m rule --add app="Microsoft Outlook" space=4
yabai -m rule --add app="Mail" space=4

yabai -m rule --add app="Deezer" space=5

echo "yabai configuration loaded.."
