#!/usr/bin/env sh

# stop process new window manager in Ventura
launchctl unload -F /System/Library/LaunchAgents/com.apple.WindowManager.plist

yabai -m config window_shadow off
yabai -m config window_border_blur off

yabai -m config \
	layout stack \
	top_padding 0   \
	bottom_padding 0  \
	left_padding 0 \
	right_padding 0

yabai -m config external_bar all:22:0

# signals
yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
sudo yabai --load-sa

# Labels
yabai -m space 1 --label Main
yabai -m space 2 --label Social
yabai -m space 3 --label Notes
yabai -m space 4 --label BSP

yabai -m config --space 4 layout bsp

# Social
yabai -m rule --add app="^Messenger$" space=2
yabai -m rule --add app="^Slack$" space=2
yabai -m rule --add app="^Discord$" space=2

# Notes
yabai -m rule --add app="^Obsidian$" space=3
yabai -m rule --add app="^Notion$" space=3
yabai -m rule --add app="^Notion Calendar$" space=3
yabai -m rule --add app="^Mail$" space=3

echo "yabai configuration loaded.."
