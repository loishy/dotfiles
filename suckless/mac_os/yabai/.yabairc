#!/usr/bin/env sh

# stop process new window manager in Ventura
launchctl unload -F /System/Library/LaunchAgents/com.apple.WindowManager.plist

yabai -m config window_shadow off
yabai -m config window_border_blur off

yabai -m config \
	layout stack \
	top_padding 0   \
	bottom_padding 24  \
	window_gap 8 \
	left_padding 0 \
	right_padding 0

# signals
yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
sudo yabai --load-sa

# Labels
yabai -m space 1 --label Code
yabai -m space 2 --label Web
yabai -m space 3 --label Chat
yabai -m space 4 --label Plan
yabai -m space 5 --label BSP

yabai -m config --space 4 layout bsp
yabai -m config --space 5 layout bsp

# Code
yabai -m rule --add app="WezTerm" space=1
yabai -m rule --add app="Alacritty" space=1
yabai -m rule --add app="kitty" space=1

# Web
yabai -m rule --add app="Arc" space=2
yabai -m rule --add app="qutebrowser" space=2

# Social
yabai -m rule --add app="Messenger" space=3
yabai -m rule --add app="Slack" space=3
yabai -m rule --add app="Discord" space=3
yabai -m rule --add app="Microsoft Teams" space=3

# Plan
yabai -m rule --add app="Obsidian" space=4 manage=off
yabai -m rule --add app="Notion" space=4 manage=off
yabai -m rule --add app="Mail" space=4 manage=off
yabai -m rule --add app="Microsoft Outlook" space=4 manage=off
yabai -m rule --add app="Inkdrop" space=4 manage=off
yabai -m rule --add app="Calendar" space=4 manage=off

# No Manage at all
yabai -m rule --add app="Finder" manage=off
yabai -m rule --add app="System Settings" manage=off
yabai -m rule --add app="Activity Monitor" manage=off
yabai -m rule --add app="App Store" manage=off
yabai -m rule --add app="Raycast" manage=off
yabai -m rule --add app="Spotify" manage=off


echo "yabai configuration loaded.."
